<div id="page-wrapper" class="open" ng-cloak>
  <!-- Sidebar -->
  <navbar-admin-interface></navbar-admin-interface>
    <!--main content-->
    <div id="content-wrapper">
        <div class="page-content">
            <!-- Header Bar -->
            <div class="row header">
                <div class="col-xs-12">
                    <header-admin-interface></header-admin-interface>
                    <div class="meta">
                        <div class="title">
                            Trapeza Admin
                        </div>
                        <div class="breadcrumb-links">
                            Home / Dashboard
                        </div>
                    </div>
                </div>
            </div>
            <!--end header bar-->

            <!--dashboard content-->
            <div class="page">
                <div class="row">
                    <div class="col-md-12">
                        <div class="alert alert-danger alert-dismissable">
                            <a href="#" class="close" data-dismiss="alert" aria-label="close">x</a>
                            <strong>Important!</strong> Log out before you leave your seat.
                        </div>
                    </div>
                </div>

              <div class="row">
                <div class="col-lg-4 col-md-6">
                  <div class="panel panel-primary">
                    <div class="panel-heading">
                      <div class="row">
                        <div class="col-xs-3">
                          <i class="fa fa-tachometer fa-5x"></i>
                        </div>
                        <div class="col-xs-9 text-right">
                          <div class="huge">{{adminDashboardCtrl.latestCheckups.length}}</div>
                          <div>Total number of checkups</div>
                        </div>
                      </div>
                    </div>
                    <a href="#">
                      <div class="panel-footer">
                        <span class="pull-left">View Details</span>
                        <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                        <div class="clearfix"></div>
                      </div>
                    </a>
                  </div>
                </div>
                <div class="col-lg-4 col-md-6">
                  <div class="panel panel-success">
                    <div class="panel-heading">
                      <div class="row">
                        <div class="col-xs-3">
                          <i class="fa fa-tasks fa-5x"></i>
                        </div>
                        <div class="col-xs-9 text-right">
                          <div class="huge">{{adminDashboardCtrl.latestUpdates.length}}</div>
                          <div>Total number of updates</div>
                        </div>
                      </div>
                    </div>
                    <a href="#">
                      <div class="panel-footer">
                        <span class="pull-left">View Details</span>
                        <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                        <div class="clearfix"></div>
                      </div>
                    </a>
                  </div>
                </div>
                <div class="col-lg-4 col-md-6">
                  <div class="panel panel-danger">
                    <div class="panel-heading">
                      <div class="row">
                        <div class="col-xs-3">
                          <i class="fa fa-exclamation-circle fa-5x"></i>
                        </div>
                        <div class="col-xs-9 text-right">
                          <div class="huge">5</div>
                          <div>Number of errors</div>
                        </div>
                      </div>
                    </div>
                    <a href="#">
                      <div class="panel-footer">
                        <span class="pull-left">View Details</span>
                        <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                        <div class="clearfix"></div>
                      </div>
                    </a>
                  </div>
                </div>
              </div>
                <div class="row">
                    <div class="col-lg-6 col-md-12">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <i class="fa fa-tasks"></i> Latest Updates
                                <a href="#" class="pull-right">Manage</a>
                            </div>
                            <table class="table table-hover">
                                <thead>
                                <tr>
                                    <th>Personal Number <div class="table-group-btn-wrap"><a class="glyphicon glyphicon-triangle-top table-group-btn"></a><a class="glyphicon glyphicon-triangle-bottom table-group-btn"></a></div></th>
                                    <th>Provider <div class="table-group-btn-wrap"><a class="glyphicon glyphicon-triangle-top table-group-btn"></a><a class="glyphicon glyphicon-triangle-bottom table-group-btn"></a></div></th>
                                    <th>Date <div class="table-group-btn-wrap"><a class="glyphicon glyphicon-triangle-top table-group-btn"></a><a class="glyphicon glyphicon-triangle-bottom table-group-btn"></a></div></th>
                                    <th>Self upload <div class="table-group-btn-wrap"><a class="glyphicon glyphicon-triangle-top table-group-btn"></a><a class="glyphicon glyphicon-triangle-bottom table-group-btn"></a></div></th>
                                </tr>
                                </thead>
                                <tbody>

                                <tr ng-repeat="data in adminDashboardCtrl.latestUpdates" >
                                    <td ng-click="adminDashboardCtrl.openPerson(data.personid)"><a>{{data.personid}}</a></td>
                                    <td><a ng-href="{{data.validation}}">{{data.provider}}</a></td>
                                    <td>{{data.timestamp | date:'dd/mm/yyyy'}}</td>
                                    <td>                                      <span class="label label-success" ng-if="data.selfupload">Yes <span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span>
                                      <span class="label label-default" ng-if="!data.selfupload">No <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span></span></td>
                                </tr>
                                </tbody>
                            </table>
                            <!--numerical page-->
                            <!--<div class="panel-footer">-->
                                <!--<div class="text-right">-->
                                    <!--<ul class="pagination pagination-sm list-unstyled">-->
                                        <!--<li><a href="#">&laquo;</a></li>-->
                                        <!--<li><a href="#">1</a></li>-->
                                        <!--<li><a href="#">2</a></li>-->
                                        <!--<li><a href="#">3</a></li>-->
                                        <!--<li><a href="#">4</a></li>-->
                                        <!--<li><a href="#">5</a></li>-->
                                        <!--<li><a href="#">&raquo;</a></li>-->
                                    <!--</ul>-->
                                <!--</div>-->
                            <!--</div>-->
                            <!--end of numerical page-->
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-12">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <i class="fa fa-tasks"></i> Latest Checkups
                                <a href="#" class="pull-right">Manage</a>
                            </div>
                            <table class="table">
                                <tbody>
                                <tr>
                                    <td>Personal Number</td>
                                    <td>Requester</td>
                                    <td>Time</td>
                                    <td>Allowed by User</td>
                                    <td>Allowed by CO</td>
                                    <td>Data</td>
                                </tr>
                                <tr ng-repeat="data in adminDashboardCtrl.latestCheckups" >
                                    <td ng-click="adminDashboardCtrl.openPerson(data.personid)"><a>{{data.personid}}</a></td>
                                    <td>{{data.actor.name}}</td>
                                    <td>{{data.timestamp}}</td>
                                    <td>
                                      <span class="label label-success" ng-if="data.allow"> Yes <span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span>
                                      <span class="label label-danger" ng-if="!data.allow">No <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span></span>
                                    </td>
                                    <td>
                                      <span class="label label-success" ng-if="data.companyallow">Yes <span class="glyphicon glyphicon-ok" aria-hidden="true"></span></span>
                                      <span class="label label-danger" ng-if="!data.companyallow">No <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span></span>
                                    </td>
                                    <td><p ng-repeat="info in data.info"><span class="label label-info" style="margin: 2px;">{{info}}</span></p></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!--end dashboard content-->

        </div>
    </div>
    <!--end main content-->
</div>
